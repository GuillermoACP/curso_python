{% extends "base.html" %}

{% block title %}Lección: {{ leccion.titulo }}{% endblock %}

{% block sidebar %}
<ul>
    {% for lec in lecciones %}
    <li class="{% if lec.slug == leccion.slug %}active{% endif %}">
        <a href="{{ url_for('leccion', slug=lec.slug) }}">
            {{ lec.titulo }}
        </a>
    </li>
    {% endfor %}
</ul>
{% endblock %}

{% block content %}
<h1>{{ leccion.titulo }}</h1>
<p><strong>Capítulo:</strong> {{ leccion.capitulo }}</p>

{% if leccion.link_doc %}
<p><a href="{{ leccion.link_doc }}" target="_blank" rel="noopener noreferrer">Documentación oficial de la lección</a>
</p>
{% endif %}



<div>
    {% for paso in leccion.pasos %}
        {% if paso.contenido %}
            <p>{{ paso.contenido | safe }}</p>
        {% endif %}
        {% if paso.notas %}
            <div style="background-color: #f0f0f018; border: 1px solid #ccc; padding: 15px; margin: 1em 0; border-radius: 4px;">
                <strong>Notas:</strong> {{ paso.notas | safe }}
            </div>
        {% endif %}
        {% if paso.display_code %}
            <pre>{{ paso.display_code }}</pre>
        {% endif %}
        {% if paso.display_output %}
            <pre>{{ paso.display_output }}</pre>
        {% endif %}
    {% endfor %}
</div>


<a href="{{ url_for('index') }}">Volver a la lista</a>
{% endblock %}